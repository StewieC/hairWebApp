{% extends 'core/base.html' %}
{% load static %}

{% block title %}Book a Stylist{% endblock %}

{% block content %}
<div class="container">
    <h1>Find & Book a Hair Stylist</h1>

    <form method="GET" class="search-bar">
        <input type="text" name="location" placeholder="Enter city e.g. Nairobi, Kisumu..." 
                value="{{ current_location }}">
        <button type="submit">Search</button>
    </form>

    <div class="stylists-grid">
        {% for stylist in stylists %}
        <div class="stylist-card">
            {% if stylist.image_url %}
                <img src="{{ stylist.image_url }}" alt="{{ stylist.name }}">
            {% else %}
                <div class="placeholder-img">Photo</div>
            {% endif %}
            <div class="stylist-info">
                <h3>{{ stylist.name }}</h3>
                <p>Location: {{ stylist.location }}</p>
                <p>Services: {{ stylist.services }}</p>
                <p>Price: {{ stylist.price_range|default:"Varies" }}</p>
                <p>Rating: {{ stylist.rating }} â˜…</p>
                <a href="{% url 'book_stylist' stylist.id %}" class="btn btn-primary">Book Now</a>
            </div>
        </div>
        {% empty %}
        <p>No stylists found in this area yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}